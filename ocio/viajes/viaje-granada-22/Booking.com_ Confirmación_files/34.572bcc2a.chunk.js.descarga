/*! For license information please see 34.572bcc2a.chunk.js.LICENSE.txt */
(self["b-post-booking-web-mfe"]=self["b-post-booking-web-mfe"]||[]).push([[34],{59006:function(e,n,t){"use strict";t.d(n,{V:function(){return a}});var i=t(51878),r=t(82497),o=t(14222),a=function(){function e(e,n){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=n||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,n){void 0===n&&(n=!1),n&&!(0,r.D)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;__DEV__?(0,i.kG)(!!e,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):(0,i.kG)(!!e,29);var n=!1;return e!==this.client&&(n=!0,this.client=e,this.cleanup()),{client:this.client,isNew:n}},e.prototype.verifyDocumentType=function(e,n){var t=(0,o.E2)(e),r=(0,o.mw)(n),a=(0,o.mw)(t.type);__DEV__?(0,i.kG)(t.type===n,"Running a "+r+" requires a graphql "+r+", but a "+a+" was used instead."):(0,i.kG)(t.type===n,30)},e}()},13260:function(e,n,t){"use strict";t.d(n,{a:function(){return r}});var i=t(51099);function r(e,n){return(0,i.r)(e,n,!1)}},51099:function(e,n,t){"use strict";t.d(n,{r:function(){return d}});var i=t(31191),r=(t(51878),t(32735)),o=t(82497),a=t(24605),s=t(6637),u=t(14222),c=function(e){function n(n){var t=n.options,i=n.context,r=n.onNewData,o=e.call(this,t,i)||this;return o.runLazy=!1,o.previous=Object.create(null),o.runLazyQuery=function(e){o.cleanup(),o.runLazy=!0,o.lazyOptions=e,o.onNewData()},o.obsRefetch=function(e){var n;return null===(n=o.currentObservable)||void 0===n?void 0:n.refetch(e)},o.obsFetchMore=function(e){var n;return null===(n=o.currentObservable)||void 0===n?void 0:n.fetchMore(e)},o.obsUpdateQuery=function(e){var n;return null===(n=o.currentObservable)||void 0===n?void 0:n.updateQuery(e)},o.obsStartPolling=function(e){var n;null===(n=o.currentObservable)||void 0===n||n.startPolling(e)},o.obsStopPolling=function(){var e;null===(e=o.currentObservable)||void 0===e||e.stopPolling()},o.obsSubscribeToMore=function(e){var n;return null===(n=o.currentObservable)||void 0===n?void 0:n.subscribeToMore(e)},o.onNewData=r,o}return(0,i.ZT)(n,e),n.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),n=e.skip,t=e.query;return(n||t!==this.previous.query)&&(this.removeQuerySubscription(),this.removeObservable(!n),this.previous.query=t),this.updateObservableQuery(),this.getExecuteSsrResult()||this.getExecuteResult()},n.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:s.I.ready,called:!1,data:void 0}]},n.prototype.fetchData=function(){var e=this,n=this.getOptions();return!n.skip&&!1!==n.ssr&&new Promise((function(n){return e.startQuerySubscription(n)}))},n.prototype.afterExecute=function(e){var n=(void 0===e?{}:e).lazy,t=void 0!==n&&n;this.isMounted=!0;var i=this.getOptions();return this.currentObservable&&!this.ssrInitiated()&&this.startQuerySubscription(),t&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=i,this.unmount.bind(this)},n.prototype.cleanup=function(){this.removeQuerySubscription(),this.removeObservable(!0),delete this.previous.result},n.prototype.getOptions=function(){var n=e.prototype.getOptions.call(this);return this.lazyOptions&&(n.variables=(0,i.pi)((0,i.pi)({},n.variables),this.lazyOptions.variables),n.context=(0,i.pi)((0,i.pi)({},n.context),this.lazyOptions.context)),this.runLazy&&delete n.skip,n},n.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},n.prototype.getExecuteSsrResult=function(){var e=this.getOptions(),n=e.ssr,t=e.skip,r=!1===n,o=this.refreshClient().client.disableNetworkFetches,a=(0,i.pi)({loading:!0,networkStatus:s.I.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());if(r&&(this.ssrInitiated()||o))return this.previous.result=a,a;if(this.ssrInitiated()){var u=this.getExecuteResult()||a;return u.loading&&!t&&this.context.renderPromises.addQueryPromise(this,(function(){return null})),u}},n.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,u.n_.Query);var n=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),(0,i.pi)((0,i.pi)({},e),{displayName:n,context:e.context})},n.prototype.initializeObservableQuery=function(){if(this.ssrInitiated()&&(this.currentObservable=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable){var e=this.prepareObservableQueryOptions();this.previous.observableQueryOptions=(0,i.pi)((0,i.pi)({},e),{children:void 0}),this.currentObservable=this.refreshClient().client.watchQuery((0,i.pi)({},e)),this.ssrInitiated()&&this.context.renderPromises.registerSSRObservable(this.currentObservable,e)}},n.prototype.updateObservableQuery=function(){if(this.currentObservable){var e=(0,i.pi)((0,i.pi)({},this.prepareObservableQueryOptions()),{children:void 0});this.getOptions().skip?this.previous.observableQueryOptions=e:(0,o.D)(e,this.previous.observableQueryOptions)||(this.previous.observableQueryOptions=e,this.currentObservable.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},n.prototype.startQuerySubscription=function(e){var n=this;void 0===e&&(e=this.onNewData),this.currentSubscription||this.getOptions().skip||(this.currentSubscription=this.currentObservable.subscribe({next:function(t){var i=t.loading,r=t.networkStatus,a=t.data,s=n.previous.result;s&&s.loading===i&&s.networkStatus===r&&(0,o.D)(s.data,a)||e()},error:function(t){if(n.resubscribeToQuery(),!t.hasOwnProperty("graphQLErrors"))throw t;var i=n.previous.result;(i&&i.loading||!(0,o.D)(t,n.previous.error))&&(n.previous.error=t,e())}}))},n.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable;if(e){var n=e.last;try{e.resetLastResults(),this.startQuerySubscription()}finally{e.last=n}}},n.prototype.getExecuteResult=function(){var e=this.observableQueryFields(),n=this.getOptions();if(n.skip)e=(0,i.pi)((0,i.pi)({},e),{data:void 0,error:void 0,loading:!1,networkStatus:s.I.ready,called:!0});else if(this.currentObservable){var t=this.currentObservable.getCurrentResult(),r=t.data,o=t.loading,u=t.partial,c=t.networkStatus,l=t.errors,d=t.error;if(l&&l.length>0&&(d=new a.c({graphQLErrors:l})),e=(0,i.pi)((0,i.pi)({},e),{data:r,loading:o,networkStatus:c,error:d,called:!0}),o);else if(d)Object.assign(e,{data:(this.currentObservable.getLastResult()||{}).data});else{var p=this.currentObservable.options.fetchPolicy;if(n.partialRefetch&&u&&(!r||0===Object.keys(r).length)&&"cache-only"!==p)return Object.assign(e,{loading:!0,networkStatus:s.I.loading}),e.refetch(),e}}e.client=this.client,this.setOptions(n,!0);var m=this.previous.result;return this.previous.loading=m&&m.loading||!1,e.previousData=m&&(m.data||m.previousData),this.previous.result=e,this.currentObservable&&this.currentObservable.resetQueryStoreErrors(),e},n.prototype.handleErrorOrCompleted=function(){if(this.currentObservable&&this.previous.result){var e=this.previous.result,n=e.data,t=e.loading,i=e.error;if(!t){var r=this.getOptions(),a=r.query,s=r.variables,u=r.onCompleted,c=r.onError,l=r.skip;if(this.previousOptions&&!this.previous.loading&&(0,o.D)(this.previousOptions.query,a)&&(0,o.D)(this.previousOptions.variables,s))return;!u||i||l?c&&i&&c(i):u(n)}}},n.prototype.removeQuerySubscription=function(){this.currentSubscription&&(this.currentSubscription.unsubscribe(),delete this.currentSubscription)},n.prototype.removeObservable=function(e){this.currentObservable&&(this.currentObservable.tearDownQuery(),e&&delete this.currentObservable)},n.prototype.observableQueryFields=function(){var e;return{variables:null===(e=this.currentObservable)||void 0===e?void 0:e.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},n}(t(59006).V);var l=t(55261);function d(e,n,t){void 0===t&&(t=!1);var a=(0,r.useContext)((0,l.K)()),s=(0,r.useReducer)((function(e){return e+1}),0),u=s[0],d=s[1],p=n?(0,i.pi)((0,i.pi)({},n),{query:e}):{query:e},m=(0,r.useRef)(),v=m.current||(m.current=new c({options:p,context:a,onNewData:function(){v.ssrInitiated()?d():Promise.resolve().then((function(){return m.current&&m.current.isMounted&&d()}))}}));v.setOptions(p),v.context=a;var f=function(e,n){var t=(0,r.useRef)();return t.current&&(0,o.D)(n,t.current.key)||(t.current={key:n,value:e()}),t.current.value}((function(){return t?v.executeLazy():v.execute()}),{options:(0,i.pi)((0,i.pi)({},p),{onError:void 0,onCompleted:void 0}),context:a,tick:u}),k=t?f[1]:f;return __DEV__&&function(e){if(__DEV__){var n=(0,r.useRef)(!1);(0,r.useEffect)((function(){return function(){n.current=!0}}),[]),(0,r.useEffect)((function(){!0===n.current&&(n.current=!1,e())}),[])}}(d),(0,r.useEffect)((function(){return function(){v.cleanup(),m.current=void 0}}),[]),(0,r.useEffect)((function(){return v.afterExecute({lazy:t})}),[k.loading,k.networkStatus,k.error,k.data,v.currentObservable]),f}},14222:function(e,n,t){"use strict";t.d(n,{E2:function(){return s},mw:function(){return a},n_:function(){return i}});var i,r=t(51878);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(i||(i={}));var o=new Map;function a(e){var n;switch(e){case i.Query:n="Query";break;case i.Mutation:n="Mutation";break;case i.Subscription:n="Subscription"}return n}function s(e){var n,t,a=o.get(e);if(a)return a;__DEV__?(0,r.kG)(!!e&&!!e.kind,"Argument of "+e+" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):(0,r.kG)(!!e&&!!e.kind,34);var s=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),u=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),c=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),l=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));__DEV__?(0,r.kG)(!s.length||u.length||c.length||l.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):(0,r.kG)(!s.length||u.length||c.length||l.length,35),__DEV__?(0,r.kG)(u.length+c.length+l.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+e+" had "+u.length+" queries, "+l.length+" subscriptions and "+c.length+" mutations. You can use 'compose' to join multiple operation types to a component"):(0,r.kG)(u.length+c.length+l.length<=1,36),t=u.length?i.Query:i.Mutation,u.length||c.length||(t=i.Subscription);var d=u.length?u:c.length?c:l;__DEV__?(0,r.kG)(1===d.length,"react-apollo only supports one definition per HOC. "+e+" had "+d.length+" definitions. You can use 'compose' to join multiple operation types to a component"):(0,r.kG)(1===d.length,37);var p=d[0];n=p.variableDefinitions||[];var m={name:p.name&&"Name"===p.name.kind?p.name.value:"data",type:t,variables:n};return o.set(e,m),m}},46044:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ee}});var i,r,o=t(32735),a=t.n(o),s=t(39476),u=t(7022),c=t.n(u),l=t(13736),d=t(95826),p=t.n(d),m=t(40841),v=t.n(m),f=t(44393),k=t(48976),g=t(6959),b=t(63934);!function(e){e[e.CANCEL_BOOKING=0]="CANCEL_BOOKING",e[e.EDIT_GUEST_DETAIL=1]="EDIT_GUEST_DETAIL",e[e.CONTACT_PROPERTY=2]="CONTACT_PROPERTY"}(i||(i={})),function(e){e[e.OPEN_SHEET_CONTAINER=0]="OPEN_SHEET_CONTAINER",e[e.NAVIGATE_TO_PAGE=1]="NAVIGATE_TO_PAGE"}(r||(r={}));var h,_,y={container:"c469ed42cb",link:"fe673a990a",link_copy:"cf9a0fa298",extra:"b95d9e9876",ss_block__ico:"e9a4647ed6",ss_block__ico_cancel:"f884cd7286",ss_block__ico_guest_details:"e60f7ffb26",ss_block__ico_special_request:"f5acc92859"};var N=function(e){var n=e.visible,t=e.titleCopy,i=e.url,o=e.extraCopy,s=e.iconType,u=e.actionType,d=(0,f.Z)(h||(h=(0,l.Z)(["AEAFSXPHAEDXCGHfUOfEIEYIbNXGDJae"]))),m=(0,f.Z)(_||(_=(0,l.Z)(["AEAFSXZWDRMeVRXJeaILYJO"])));return a().createElement(a().Fragment,null,n?a().createElement("div",{className:y.container},a().createElement(p(),{icon:a().createElement("i",{className:v()(y.ss_block__ico,y[s||""])}),text:a().createElement(a().Fragment,null,a().createElement(c(),{className:y.link_copy,variant:"strong_2"},t),o?a().createElement(c(),{className:y.extra},o):null),onClick:function(){(0,k.pj)(d,4),(0,k.pj)(m,4),u===r.OPEN_SHEET_CONTAINER?g.Y.publish(b.l.D_SELF_SERVICE_MESSAGE_PROPERTY):i&&(window.location.href=i)},className:y.link})):null)},S=t(13260),E=t(42015),O=t(79399),I=t(26662),P=t(66049),C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelfServiceQueryDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pbFetcherInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostBookingInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"insuranceInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InsuranceInfoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postBookingReservationQuery"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"pbFetcherInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostBookingReservation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservationStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfConfirmedRoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancellationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"property"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isCtripProperty"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gracePeriod"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasValidGracePeriod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gracePeriodRemainingDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gracePeriodRemainingHours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gracePeriodRemainingMinutes"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostBookingError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"insuranceInfoQueries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insuranceInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"insuranceInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsuranceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insurance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payload"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productReference"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"policyReference"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"orderId"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsuranceInfoNotFound"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1042,source:{body:"\n  query SelfServiceQueryDesktop(\n    $pbFetcherInput: PostBookingInput!\n    $insuranceInput: InsuranceInfoInput!\n  ) {\n    postBookingReservationQuery(input: $pbFetcherInput) {\n      ... on PostBookingReservation {\n        orderId\n        reservationStatus\n        numberOfConfirmedRoom\n        cancellationType\n        property {\n          isCtripProperty\n        }\n        gracePeriod {\n          hasValidGracePeriod\n          gracePeriodRemainingDays\n          gracePeriodRemainingHours\n          gracePeriodRemainingMinutes\n        }\n      }\n      ... on PostBookingError {\n        errorCode\n        message\n      }\n    }\n    insuranceInfoQueries {\n      insuranceInfo(input: $insuranceInput) {\n        ... on InsuranceInfo {\n          insurance {\n            payload {\n              quote {\n                productReference\n              }\n              policyReference\n              policyStatus\n            }\n          }\n          orderId\n        }\n        ... on InsuranceInfoNotFound {\n          message\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelfServiceQueryWithTPODesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accommodationDetailInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AccommodationReservationDetailsInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pbFetcherInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostBookingInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"insuranceInput"}},type:{kind:"NamedType",name:{kind:"Name",value:"InsuranceInfoInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accommodationDetailsQueries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accommodationDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"accommodationDetailInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AccommodationReservationDetailsResult"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservationStatus"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AccommodationReservationDetailsError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusCode"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"postBookingReservationQuery"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"pbFetcherInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostBookingReservation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservationStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfConfirmedRoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancellationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"property"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isCtripProperty"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gracePeriod"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasValidGracePeriod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gracePeriodRemainingDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gracePeriodRemainingHours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gracePeriodRemainingMinutes"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostBookingError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"insuranceInfoQueries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insuranceInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"insuranceInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsuranceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insurance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payload"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productReference"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"policyReference"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"orderId"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsuranceInfoNotFound"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1463,source:{body:"\n  query SelfServiceQueryWithTPODesktop(\n    $accommodationDetailInput: AccommodationReservationDetailsInput!\n    $pbFetcherInput: PostBookingInput!\n    $insuranceInput: InsuranceInfoInput\n  ) {\n    accommodationDetailsQueries {\n      accommodationDetails(input: $accommodationDetailInput) {\n        ... on AccommodationReservationDetailsResult {\n          reservation {\n            reservationStatus\n          }\n        }\n        ... on AccommodationReservationDetailsError {\n          response\n          statusCode\n        }\n      }\n    }\n    postBookingReservationQuery(input: $pbFetcherInput) {\n      ... on PostBookingReservation {\n        orderId\n        reservationStatus\n        numberOfConfirmedRoom\n        cancellationType\n        property {\n          isCtripProperty\n        }\n        gracePeriod {\n          hasValidGracePeriod\n          gracePeriodRemainingDays\n          gracePeriodRemainingHours\n          gracePeriodRemainingMinutes\n        }\n      }\n      ... on PostBookingError {\n        errorCode\n        message\n      }\n    }\n    insuranceInfoQueries {\n      insuranceInfo(input: $insuranceInput) {\n        ... on InsuranceInfo {\n          insurance {\n            payload {\n              quote {\n                productReference\n              }\n              policyReference\n              policyStatus\n            }\n          }\n          orderId\n        }\n        ... on InsuranceInfoNotFound {\n          message\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},T=t(47169),D=t(3781),A=t(22219);function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){(0,T.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w,Q,x=function(e,n){return e===D.m5.FREE_CANCELLATION?{name:"mb_lightbox_singleview_cancel"}:null!==n&&void 0!==n&&n.hasValidGracePeriod?{name:"pb_ss_onlineconf_cxl_for_free_cta"}:{name:"pb_ss_mdot_mybooking_cancellation_options_cta"}},G=function(e,n){return!(!e&&n)},B=function(e,n){return e?{name:"messageproperty_cta_web"}:n?{name:""}:{name:"pb_manage_booking_button_usp_3"}},U=function(e,n){if(e!==D.m5.FREE_CANCELLATION&&null!==n&&void 0!==n&&n.hasValidGracePeriod){var t=n.gracePeriodRemainingDays,i=n.gracePeriodRemainingHours,r=n.gracePeriodRemainingMinutes;return t&&t>1?{name:"uav_pb_brazil_gp_cxl_free_disclaimer_days",variables:{num_days:t,num_exception:""}}:i&&i>1?{name:"pb_ss_onlineconf_cxl_for_free_disclaimer",variables:{num_hours:i}}:1===i?{name:"language_exception_pb_ss_onlineconf_cxl_for_free_disclaimer_1",variables:{num_hours:i}}:r&&r>1?{name:"pb_ss_onlineconf_cxl_for_free_disclaimer_mins",variables:{num_mins:r}}:1===r?{name:"language_exception_pb_ss_onlineconf_cxl_for_free_disclaimer_mins_1",variables:{num_mins:r}}:{name:""}}return{name:""}},V=function(e){var n=new URLSearchParams(L({label:"from_conf_1",pbsource:"mybooking_widget_cancel"},e));return(0,A.Q6)(!1,n)},M=function(e,n){var t;return 1===n?(t=new URLSearchParams(L({label:"from_conf_1",pbsource:"email_changeInfo"},e)),(0,A.Q6)(!1,t)):(t=new URLSearchParams(L({label:"from_conf_1"},e)),"".concat((0,A.Q6)(!1,t),"#roomSection"))},q=function(e,n){if(e){var t=new URLSearchParams(L({restart:"1",entrypoint:"Send Rquest",channel:"partner_chat",dt_entrypoint:""},n));return(0,A.gz)(t)}var i=new URLSearchParams(L({label:"from_conf_1",pbsource:"doSpecialRequest"},n));return(0,A.Q6)(!1,i)},Z=t(27131),z=t(84566),j=t(36687);var K=t(33377),W="c6fa81a947",Y="b318847947",X="a29f4f5c93",$="e3e796884e",H="bc7e7befc9";function J(){(0,o.useEffect)((function(){}),[]);var e=function(){var e,n,t,o,a,s=(0,Z.K)(),u=s.authkey,c=s.bookingNumber,d=s.pinCode,p=s.id,m=s.orderUuid,v=!u&&(!c||!d),f=u?{authKey:u}:{bookingNumber:c,pinCode:d},k={authkey:u,id:p,pinCode:d},g=(0,I.Z)((0,P.Z)(w||(w=(0,l.Z)(["IZbRdHUYGMPZeQDUNREWQRO"])))),b=(0,I.Z)((0,P.Z)(Q||(Q=(0,l.Z)(["BOXBaXfebBGPTLKGBfFeSICZeRe"])))),h="SelfServiceDesktop",_=g?{accommodationDetailInput:k,pbFetcherInput:f,insuranceInput:{authkey:u,bookingNumber:c,pinCode:d,orderUuid:m}}:{pbFetcherInput:f,insuranceInput:{authkey:u,bookingNumber:c,pinCode:d,orderUuid:m}},y=g?R:C,N=(0,S.a)(y,{variables:_,skip:v}),T=N.loading,A=N.error,F=N.data;if(!T&&!v){if(A)return(0,j.kd)(h,A),void(0,j._s)(h,A.message);if("PostBookingError"!==(null===F||void 0===F||null===(e=F.postBookingReservationQuery)||void 0===e?void 0:e.__typename)){var L,K,W=null===F||void 0===F||null===(n=F.postBookingReservationQuery)||void 0===n||null===(t=n.property)||void 0===t?void 0:t.isCtripProperty,Y=null===F||void 0===F||null===(o=F.postBookingReservationQuery)||void 0===o?void 0:o.reservationStatus;if(g)if("AccommodationReservationDetailsError"===(null===F||void 0===F||null===(L=F.accommodationDetailsQueries)||void 0===L||null===(K=L.accommodationDetails)||void 0===K?void 0:K.__typename)){var X;(0,E.bf)("PBX-SelfServiceDesktop: query tpo error",{input:k,error:null===F||void 0===F||null===(X=F.accommodationDetailsQueries)||void 0===X?void 0:X.accommodationDetails})}else{var $,H=null===F||void 0===F||null===($=F.accommodationDetailsQueries.accommodationDetails)||void 0===$?void 0:$.reservation.reservationStatus;String(H)!==String(Y)&&(0,E.bf)("PBX-SelfServiceDesktop: tpo reservation status be equal to pbx reservation status",{data:k})}var J=Y===D.mv.CANCELLED,ee=(null===F||void 0===F?void 0:F.postBookingReservationQuery)||{},ne=ee.cancellationType,te=ee.gracePeriod,ie=ee.numberOfConfirmedRoom,re=[],oe=Boolean(null===(a=(0,O.T)().getUserIdentity())||void 0===a?void 0:a.userId);return function(){var e=u?{auth_key:u}:{bn:c,pincode:d};re.push({type:i.CANCEL_BOOKING,visible:!J&&!W,copyTag:x(ne,te),link:V(e),iconType:"ss_block__ico_cancel",extraCopy:U(ne,te),actionType:r.NAVIGATE_TO_PAGE});var n=b&&(0,z.E)(F);re.push({type:i.EDIT_GUEST_DETAIL,visible:!J&&!W&&!n,copyTag:{name:"mb_lightbox_singleview_edit_guest_details"},iconType:"ss_block__ico_guest_details",link:M(e,ie),actionType:r.NAVIGATE_TO_PAGE}),re.push({type:i.CONTACT_PROPERTY,visible:G(oe,W),copyTag:B(oe,W),iconType:"ss_block__ico_special_request",link:q(oe,e),actionType:oe?r.OPEN_SHEET_CONTAINER:r.NAVIGATE_TO_PAGE})}(),{dataList:re}}var ae,se,ue,ce;(0,j.z_)(h,{data:null===F||void 0===F?void 0:F.postBookingReservationQuery,requestUrl:null===(ae=(0,O.T)().getBasePageUrl())||void 0===ae?void 0:ae.toString(),inputParams:f}),(null===F||void 0===F||null===(se=F.postBookingReservationQuery)||void 0===se||!se.errorCode||(0,j.Y5)(null===F||void 0===F||null===(ue=F.postBookingReservationQuery)||void 0===ue?void 0:ue.errorCode))&&(0,j._s)(h,String(null===F||void 0===F||null===(ce=F.postBookingReservationQuery)||void 0===ce?void 0:ce.errorCode))}}();if(!e)return null;var n=e.dataList;return a().createElement("div",{className:W},a().createElement("div",{className:Y},a().createElement(c(),{className:X,variant:"strong_1"},a().createElement(s.cC,{tag:"pb_onlineconf_manage_single_booking_header"})),a().createElement(c(),{className:$,variant:"small_1"},a().createElement(s.cC,{tag:"pb_onlineconf_manage_single_booking_body_text"})),a().createElement("div",{className:H},n.map((function(e){var n,t,i;return a().createElement(N,{key:e.type,visible:!!e.visible,titleCopy:a().createElement(s.cC,{tag:null===e||void 0===e?void 0:e.copyTag.name}),url:e.link,iconType:e.iconType,actionType:e.actionType,extraCopy:null!==(n=e.extraCopy)&&void 0!==n&&n.name?a().createElement(s.cC,{tag:null===e||void 0===e||null===(t=e.extraCopy)||void 0===t?void 0:t.name,variables:null===e||void 0===e||null===(i=e.extraCopy)||void 0===i?void 0:i.variables}):null})})))))}function ee(){return(0,K.k)({componentName:"SelfServiceDesktop",isConfirmationRequest:!0}).isValid?a().createElement(J,null):null}},63934:function(e,n,t){"use strict";var i;t.d(n,{l:function(){return i}}),function(e){e.D_SELF_SERVICE_MESSAGE_PROPERTY="CAPLA_EVENT_post-booking-web-mfe_D_SELF_SERVICE_MESSAGE_PROPERTY",e.D_REASSURANCE_OPEN_EDIT_MODAL="CAPLA_EVENT_post-booking-web-mfe_D_REASSURANCE_OPEN_EDIT_MODAL",e.D_REASSURANCE_OPEN_GTA_MODAL="CAPLA_EVENT_post-booking-web-mfe_D_REASSURANCE_OPEN_GTA_MODAL",e.M_SELF_SERVICE_OPEN_ACCORDION="CAPLA_EVENT_post-booking-web-mfe_M_SELF_SERVICE_OPEN_ACCORDION",e.M_IMPORTANT_INFO_OPEN_ACCORDION="CAPLA_EVENT_post-booking-web-mfe_M_IMPORTANT_INFO_OPEN_ACCORDION"}(i||(i={}))},3781:function(e,n,t){"use strict";var i,r,o,a,s,u;t.d(n,{O2:function(){return o},m5:function(){return r},mv:function(){return a}}),function(e){e.CANCELLED="CANCELLED",e.ISSUED="ISSUED",e.PROCESSING="PROCESSING",e.PROCESSING_CANCELLATION="PROCESSING_CANCELLATION",e.UNKNOWN_POLICY_STATUS="UNKNOWN_POLICY_STATUS"}(i||(i={})),function(e){e.FREE_CANCELLATION="FREE_CANCELLATION",e.MIX="MIX",e.NON_REFUNDABLE="NON_REFUNDABLE",e.SPECIAL_CONDITION="SPECIAL_CONDITION"}(r||(r={})),function(e){e.CURRENT_BOOKING="CURRENT_BOOKING",e.PAST_BOOKING="PAST_BOOKING",e.UPCOMING_BOOKING="UPCOMING_BOOKING"}(o||(o={})),function(e){e.CANCELLED="CANCELLED",e.CONFIRMED="CONFIRMED"}(a||(a={})),function(e){e.DOTS="DOTS",e.NONE="NONE",e.STARS="STARS",e.TILES="TILES"}(s||(s={})),function(e){e.ACTION_REQUIRED="ACTION_REQUIRED",e.CANCELLED="CANCELLED",e.CONFIRMED="CONFIRMED",e.PENDING="PENDING",e.UNKNOWN="UNKNOWN"}(u||(u={}))},33377:function(e,n,t){"use strict";t.d(n,{k:function(){return c},y:function(){return u}});var i=t(24094),r=t(79399),o=t(48976),a=t(42015),s=t(22219),u=function(e){var n=e.fromLocalised,t=e.untilLocalised,r=e.isMdot,o=e.i18n,a="-",s=function(e){return e.substring(1,a.length-1)};if(!n&&!t)return a;if(n&&t){var u={check_time1:n,check_time2:t};a=r?o.trans((0,i.t)("check_time_range_new",{variables:u})):s(a=o.trans((0,i.t)("check_time_range",{variables:u})))}else if(n){var c={check_time:n};a=r?o.trans((0,i.t)("from_check_time_new",{variables:c})):s(a=o.trans((0,i.t)("from_check_time",{variables:c})))}else{var l={check_time:t};a=r?o.trans((0,i.t)("until_check_time_new",{variables:l})):s(a=o.trans((0,i.t)("until_check_time",{variables:l})))}return a},c=function(e){var n=e.componentName,t=e.experimentTag,i=e.isConfirmationRequest,u=void 0!==i&&i,c=e.shouldCheckSourceFromBP,l=void 0!==c&&c,d=(0,r.T)().getBasePageUrl(),p=(u?s.yy:function(){return(0,s.EJ)(d)})()&&(!t||!!(0,o.zm)(t));if(l){var m=d.searchParams,v=m.has("source")&&"book"===m.get("source");p=p&&v}return p||(0,a.bf)("PBX-".concat(n,": invalid confirmation url"),{basePageUrl:d}),{isValid:p}}},84566:function(e,n,t){"use strict";t.d(n,{E:function(){return i}});var i=function(e){var n,t,i,r,o,a,s,u=!1;"InsuranceInfo"!==(null===e||void 0===e||null===(n=e.insuranceInfoQueries)||void 0===n||null===(t=n.insuranceInfo)||void 0===t?void 0:t.__typename)||"UNKNOWN_POLICY_STATUS"===(null===e||void 0===e||null===(i=e.insuranceInfoQueries)||void 0===i||null===(r=i.insuranceInfo)||void 0===r||null===(o=r.insurance)||void 0===o||null===(a=o.payload)||void 0===a?void 0:a.policyStatus)?u=!1:u="STT"===function(e){var n;return"InsuranceInfo"===(null===e||void 0===e?void 0:e.__typename)?null!==(n=e.insurance.payload.quote.productReference)&&void 0!==n?n:"ACI":""}(null===e||void 0===e||null===(s=e.insuranceInfoQueries)||void 0===s?void 0:s.insuranceInfo);return u}},36687:function(e,n,t){"use strict";t.d(n,{Y5:function(){return k},_s:function(){return f},kd:function(){return p},uU:function(){return v},z_:function(){return m}});var i,r,o=t(13736),a=t(42015),s=t(79399),u=t(26662),c=t(66049),l=null===(i=(0,s.T)())||void 0===i?void 0:i.getSiteType(),d=(0,u.Z)((0,c.Z)(r||(r=(0,o.Z)(["IZbREBGVPQUPMcZdUWBLXTUSGGO"]))));function p(e,n){(0,a.bf)("PBX-".concat(e,": Apollo operation failed"),{apolloError:n})}function m(e,n){(0,a.bf)("PBX-".concat(e,": query response is PostBookingError"),n)}function v(e,n){if(d)throw new Error("PBX-[".concat(e,"][").concat(l,"]-emptyDom").concat(n?"-".concat(n):""))}function f(e,n){d&&(0,a.c1)("PBX-[".concat(e,"][").concat(l,"]-emptyDom").concat(n?"-".concat(n):""))}function k(e){return[1001,1002,1004,1005,1006,1007,1010].indexOf(e)<0}},27131:function(e,n,t){"use strict";t.d(n,{K:function(){return o},p:function(){return r}});var i=t(79399);function r(){var e=(0,i.T)().getBasePageUrl().searchParams;return{authkey:e.get("auth_key")||"",bookingNumber:e.get("bn")||"",pinCode:e.get("pincode")||"",orderUuid:e.get("orderUuid")||""}}function o(){var e=(0,i.T)(),n=e.getBasePageUrl(),t=e.getBody(),r=n.searchParams,o=r.get("source")||"",a=r.get("orderUuid")||"",c=r.get("auth_key")||"",l=r.get("bn")||"",d=r.get("pincode")||"";return{authkey:c=u(c),bookingNumber:l=s("bn",l,o,t),pinCode:d=s("pincode",d,o,t),id:l?"22-".concat(l):"",orderUuid:a}}var a=["confirmation_error_validation"];function s(e,n,t,i){var r="";return i&&a.indexOf(t)>-1&&(r=u(String(i[e]))),r||u(n)}function u(e){return"null"===e||"undefined"===e?"":e}},22219:function(e,n,t){"use strict";t.d(n,{EJ:function(){return d},Q6:function(){return k},ZE:function(){return v},bb:function(){return m},gz:function(){return g},yy:function(){return p},z:function(){return f}});var i=t(98178),r=t(42015),o=t(24327),a=t(79399),s=t(27131),u=/^\/mybooking\.([\w-]+\.)?html/,c=/^\/myreservations\.([\w-]+\.)?html/,l=/^\/confirmation\.([\w-]+\.)?html/;function d(e){var n=e.searchParams;return!!(n.has("auth_key")&&"null"!==n.get("auth_key")&&"undefined"!==n.get("auth_key")||n.has("bn")&&n.has("pincode"))}function p(){var e=(0,s.K)(),n=e.authkey,t=e.bookingNumber,i=e.pinCode;return!!(n||t&&i)}function m(e){var n=e.pathname;return{isConfirmation:l.test(n),isManageBooking:u.test(n)||c.test(n)}}function v(e,n){var t=e.searchParams;return!(n===i.N.MDOT&&(!t.has("tmpl")||"mybooking_lightbox_content"!==t.get("tmpl")))&&d(e)}function f(e,n){var t=m(n).isConfirmation?"Confirmation":"ManageBooking",o=n.searchParams.get("source")||"unknown",a=e?i.N.MDOT:"".concat(i.N.WWW,"+").concat(i.N.TDOT);(0,r.WM)("".concat(a," ").concat(t," ").concat("page source from:"," ").concat(o)),(0,r.WM)("".concat(a," ").concat(t," ").concat("page total request:"))}var k=function(e,n){var t=(0,a.T)(),i=e?"mybooking":"myreservations";return(0,o.K)({pathname:"/".concat(i,".").concat(t.getLanguage(),".html"),searchParams:n}).toString()},g=function(e){var n=(0,a.T)();return(0,o.K)({pathname:"/".concat("assistant",".").concat(n.getLanguage(),".html"),searchParams:e}).toString()}},44393:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=function(e){this.tag=e};function r(e){var n;return n=Array.isArray(e)?e[0]:"object"===typeof e&&Array.isArray(e.raw)?e.raw[0]:e,new i(n)}},48976:function(e,n,t){"use strict";t.d(n,{pj:function(){return l},zm:function(){return u},ti:function(){return c},r9:function(){return d},uf:function(){return p}});var i,r=t(55562),o=t(93172),a=t(89070),s=new(function(){function e(){}var n=e.prototype;return n.trackExperiment=function(e){return(0,a.J)(e.tag),window.__caplaChunkMetadataStore.getExperimentVariant(e.tag)},n.trackExperimentStage=function(e,n){return(0,a.J)(e.tag+"|"+n),o.Z.stage(e.tag,n)},n.trackCustomGoal=function(e,n){return o.Z.customGoal(e.tag,n)},n.trackGoal=function(e){return o.Z.goal(e)},n.trackGoalWithValue=function(e,n){for(var t=arguments.length,i=new Array(t>2?t-2:0),a=2;a<t;a++)i[a-2]=arguments[a];var s;return(s=o.Z).goalWithValue.apply(s,[e,n].concat(r.Z(i)))},n.reportContextstatus=function(){},e}());function u(e){return m("trackExperiment")(e)}function c(e,n){return m("trackExperimentStage")(e,n)}function l(e,n){return m("trackCustomGoal")(e,n)}function d(e){return m("trackGoal")(e)}function p(e,n){for(var t=arguments.length,i=new Array(t>2?t-2:0),o=2;o<t;o++)i[o-2]=arguments[o];return m("trackGoalWithValue").apply(this,[e,n].concat(r.Z(i)))}function m(e){return s[e]}!function(e){e.trackExperiment="trackExperiment",e.trackExperimentStage="trackExperimentStage",e.trackGoal="trackGoal",e.trackGoalWithValue="trackGoalWithValue",e.trackCustomGoal="trackCustomGoal"}(i||(i={}))},6959:function(e,n,t){"use strict";t.d(n,{Y:function(){return r}});var i=t(12958),r=t.n(i)()},24327:function(e,n,t){"use strict";t.d(n,{K:function(){return g}});var i,r,o=t(79399),a=((i={DEFAULT:["label","sid","utm_source","utm_medium","utm_term","utm_content","utm_campaign","gclid"]})[t(98178).N.EXTRANET]=["hotel_id","lang","ses"],i);!function(e){e.app="app",e.book="book"}(r||(r={}));var s={app:"www",book:"secure"},u={app:"w",book:"b"},c={app:"app",book:"book"},l={app:"app",book:"book"},d="booking.com",p=new RegExp("^(.*?)\\.?(booking.com|booking.cn)$"),m=/^(?:w|b)(\d+)$/,v=/^(\w+)\-(app|book|devapp|devbook).*?\.dev$/,f=/^(?:app|book)\.dqs$/;function k(e,n){var t=new Set;null==n||n.forEach((function(n,i){t.has(i)?e.append(i,n):(e.set(i,n),t.add(i))}))}function g(e){return function(){var e=(0,o.T)(),n=e.getBasePageUrl();if(!n)throw new Error("Cannot construct URLs without base page URL, most likely it is an integration error. Please report this issue to #capla channel in Slack.");var t=function(e,n,t,i){var r=new URLSearchParams,o=n&&a.hasOwnProperty(n)?n:"DEFAULT";return a[o].forEach((function(n){var t=e.searchParams.get(n);t&&r.set(n,t)})),"number"===typeof(null==t?void 0:t.id)&&r.set("aid",t.id.toString()),i&&e.searchParams.forEach((function(e,n){var t;(0===(t=n).indexOf("exp_")||0===t.indexOf("b_feature_running_")||"exp_all"===t||"hotel_account_id"===t)&&r.set(n,e)})),r}(n,e.getSiteType(),e.getAffiliate(),e.isInternalIp());return function(i){var r=new URL(""+n.origin+n.pathname),o=i.host?function(e,n){var t=e.host.match(p);if(!t)return e;var i=t[1],r=t[2];return""===i||i===s.app||i===s.book?e.host=s[n]+"."+r:v.test(i)?e.host=i.replace(v,"$1-"+c[n]+".dev."+d):f.test(i)?e.host=l[n]+".dqs."+d:m.test(i)&&(e.host=i.replace(m,u[n]+"$1."+d)),e}(r,i.host):r;return i.pathname&&(o.pathname=i.pathname),o.hash=i.hash||"",e.isRobotRequest()||(k(o.searchParams,t),k(o.searchParams,i.searchParams)),o}}()(e)}},40841:function(e,n){var t;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)&&t.length){var a=r.apply(null,t);a&&e.push(a)}else if("object"===o)for(var s in t)i.call(t,s)&&t[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(n,[]))||(e.exports=t)}()},47169:function(e,n,t){"use strict";function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return i}})},13736:function(e,n,t){"use strict";function i(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,{Z:function(){return i}})}}]);
//# sourceMappingURL=https://s3-main-01.booking.com/internal-static/capla/static/js/34.572bcc2a.chunk.js.map