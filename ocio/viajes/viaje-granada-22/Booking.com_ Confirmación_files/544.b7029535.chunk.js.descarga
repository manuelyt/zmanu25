/*! For license information please see 544.b7029535.chunk.js.LICENSE.txt */
(self["b-post-booking-web-mfe"]=self["b-post-booking-web-mfe"]||[]).push([[544],{59006:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(51878),i=n(82497),o=n(14222),a=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!(0,i.D)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;__DEV__?(0,r.kG)(!!e,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):(0,r.kG)(!!e,29);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=(0,o.E2)(e),i=(0,o.mw)(t),a=(0,o.mw)(n.type);__DEV__?(0,r.kG)(n.type===t,"Running a "+i+" requires a graphql "+i+", but a "+a+" was used instead."):(0,r.kG)(n.type===t,30)},e}()},13260:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(51099);function i(e,t){return(0,r.r)(e,t,!1)}},51099:function(e,t,n){"use strict";n.d(t,{r:function(){return p}});var r=n(31191),i=(n(51878),n(32735)),o=n(82497),a=n(24605),s=n(6637),u=n(14222),c=function(e){function t(t){var n=t.options,r=t.context,i=t.onNewData,o=e.call(this,n,r)||this;return o.runLazy=!1,o.previous=Object.create(null),o.runLazyQuery=function(e){o.cleanup(),o.runLazy=!0,o.lazyOptions=e,o.onNewData()},o.obsRefetch=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.refetch(e)},o.obsFetchMore=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.fetchMore(e)},o.obsUpdateQuery=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.updateQuery(e)},o.obsStartPolling=function(e){var t;null===(t=o.currentObservable)||void 0===t||t.startPolling(e)},o.obsStopPolling=function(){var e;null===(e=o.currentObservable)||void 0===e||e.stopPolling()},o.obsSubscribeToMore=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.subscribeToMore(e)},o.onNewData=i,o}return(0,r.ZT)(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,n=e.query;return(t||n!==this.previous.query)&&(this.removeQuerySubscription(),this.removeObservable(!t),this.previous.query=n),this.updateObservableQuery(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:s.I.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this,t=this.getOptions();return!t.skip&&!1!==t.ssr&&new Promise((function(t){return e.startQuerySubscription(t)}))},t.prototype.afterExecute=function(e){var t=(void 0===e?{}:e).lazy,n=void 0!==t&&t;this.isMounted=!0;var r=this.getOptions();return this.currentObservable&&!this.ssrInitiated()&&this.startQuerySubscription(),n&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=r,this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),this.removeObservable(!0),delete this.previous.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=(0,r.pi)((0,r.pi)({},t.variables),this.lazyOptions.variables),t.context=(0,r.pi)((0,r.pi)({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteSsrResult=function(){var e=this.getOptions(),t=e.ssr,n=e.skip,i=!1===t,o=this.refreshClient().client.disableNetworkFetches,a=(0,r.pi)({loading:!0,networkStatus:s.I.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());if(i&&(this.ssrInitiated()||o))return this.previous.result=a,a;if(this.ssrInitiated()){var u=this.getExecuteResult()||a;return u.loading&&!n&&this.context.renderPromises.addQueryPromise(this,(function(){return null})),u}},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,u.n_.Query);var t=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),(0,r.pi)((0,r.pi)({},e),{displayName:t,context:e.context})},t.prototype.initializeObservableQuery=function(){if(this.ssrInitiated()&&(this.currentObservable=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable){var e=this.prepareObservableQueryOptions();this.previous.observableQueryOptions=(0,r.pi)((0,r.pi)({},e),{children:void 0}),this.currentObservable=this.refreshClient().client.watchQuery((0,r.pi)({},e)),this.ssrInitiated()&&this.context.renderPromises.registerSSRObservable(this.currentObservable,e)}},t.prototype.updateObservableQuery=function(){if(this.currentObservable){var e=(0,r.pi)((0,r.pi)({},this.prepareObservableQueryOptions()),{children:void 0});this.getOptions().skip?this.previous.observableQueryOptions=e:(0,o.D)(e,this.previous.observableQueryOptions)||(this.previous.observableQueryOptions=e,this.currentObservable.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(e){var t=this;void 0===e&&(e=this.onNewData),this.currentSubscription||this.getOptions().skip||(this.currentSubscription=this.currentObservable.subscribe({next:function(n){var r=n.loading,i=n.networkStatus,a=n.data,s=t.previous.result;s&&s.loading===r&&s.networkStatus===i&&(0,o.D)(s.data,a)||e()},error:function(n){if(t.resubscribeToQuery(),!n.hasOwnProperty("graphQLErrors"))throw n;var r=t.previous.result;(r&&r.loading||!(0,o.D)(n,t.previous.error))&&(t.previous.error=n,e())}}))},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable;if(e){var t=e.last;try{e.resetLastResults(),this.startQuerySubscription()}finally{e.last=t}}},t.prototype.getExecuteResult=function(){var e=this.observableQueryFields(),t=this.getOptions();if(t.skip)e=(0,r.pi)((0,r.pi)({},e),{data:void 0,error:void 0,loading:!1,networkStatus:s.I.ready,called:!0});else if(this.currentObservable){var n=this.currentObservable.getCurrentResult(),i=n.data,o=n.loading,u=n.partial,c=n.networkStatus,l=n.errors,p=n.error;if(l&&l.length>0&&(p=new a.c({graphQLErrors:l})),e=(0,r.pi)((0,r.pi)({},e),{data:i,loading:o,networkStatus:c,error:p,called:!0}),o);else if(p)Object.assign(e,{data:(this.currentObservable.getLastResult()||{}).data});else{var d=this.currentObservable.options.fetchPolicy;if(t.partialRefetch&&u&&(!i||0===Object.keys(i).length)&&"cache-only"!==d)return Object.assign(e,{loading:!0,networkStatus:s.I.loading}),e.refetch(),e}}e.client=this.client,this.setOptions(t,!0);var f=this.previous.result;return this.previous.loading=f&&f.loading||!1,e.previousData=f&&(f.data||f.previousData),this.previous.result=e,this.currentObservable&&this.currentObservable.resetQueryStoreErrors(),e},t.prototype.handleErrorOrCompleted=function(){if(this.currentObservable&&this.previous.result){var e=this.previous.result,t=e.data,n=e.loading,r=e.error;if(!n){var i=this.getOptions(),a=i.query,s=i.variables,u=i.onCompleted,c=i.onError,l=i.skip;if(this.previousOptions&&!this.previous.loading&&(0,o.D)(this.previousOptions.query,a)&&(0,o.D)(this.previousOptions.variables,s))return;!u||r||l?c&&r&&c(r):u(t)}}},t.prototype.removeQuerySubscription=function(){this.currentSubscription&&(this.currentSubscription.unsubscribe(),delete this.currentSubscription)},t.prototype.removeObservable=function(e){this.currentObservable&&(this.currentObservable.tearDownQuery(),e&&delete this.currentObservable)},t.prototype.observableQueryFields=function(){var e;return{variables:null===(e=this.currentObservable)||void 0===e?void 0:e.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(n(59006).V);var l=n(55261);function p(e,t,n){void 0===n&&(n=!1);var a=(0,i.useContext)((0,l.K)()),s=(0,i.useReducer)((function(e){return e+1}),0),u=s[0],p=s[1],d=t?(0,r.pi)((0,r.pi)({},t),{query:e}):{query:e},f=(0,i.useRef)(),h=f.current||(f.current=new c({options:d,context:a,onNewData:function(){h.ssrInitiated()?p():Promise.resolve().then((function(){return f.current&&f.current.isMounted&&p()}))}}));h.setOptions(d),h.context=a;var v=function(e,t){var n=(0,i.useRef)();return n.current&&(0,o.D)(t,n.current.key)||(n.current={key:t,value:e()}),n.current.value}((function(){return n?h.executeLazy():h.execute()}),{options:(0,r.pi)((0,r.pi)({},d),{onError:void 0,onCompleted:void 0}),context:a,tick:u}),m=n?v[1]:v;return __DEV__&&function(e){if(__DEV__){var t=(0,i.useRef)(!1);(0,i.useEffect)((function(){return function(){t.current=!0}}),[]),(0,i.useEffect)((function(){!0===t.current&&(t.current=!1,e())}),[])}}(p),(0,i.useEffect)((function(){return function(){h.cleanup(),f.current=void 0}}),[]),(0,i.useEffect)((function(){return h.afterExecute({lazy:n})}),[m.loading,m.networkStatus,m.error,m.data,h.currentObservable]),v}},14222:function(e,t,n){"use strict";n.d(t,{E2:function(){return s},mw:function(){return a},n_:function(){return r}});var r,i=n(51878);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(r||(r={}));var o=new Map;function a(e){var t;switch(e){case r.Query:t="Query";break;case r.Mutation:t="Mutation";break;case r.Subscription:t="Subscription"}return t}function s(e){var t,n,a=o.get(e);if(a)return a;__DEV__?(0,i.kG)(!!e&&!!e.kind,"Argument of "+e+" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):(0,i.kG)(!!e&&!!e.kind,34);var s=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),u=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),c=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),l=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));__DEV__?(0,i.kG)(!s.length||u.length||c.length||l.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):(0,i.kG)(!s.length||u.length||c.length||l.length,35),__DEV__?(0,i.kG)(u.length+c.length+l.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+e+" had "+u.length+" queries, "+l.length+" subscriptions and "+c.length+" mutations. You can use 'compose' to join multiple operation types to a component"):(0,i.kG)(u.length+c.length+l.length<=1,36),n=u.length?r.Query:r.Mutation,u.length||c.length||(n=r.Subscription);var p=u.length?u:c.length?c:l;__DEV__?(0,i.kG)(1===p.length,"react-apollo only supports one definition per HOC. "+e+" had "+p.length+" definitions. You can use 'compose' to join multiple operation types to a component"):(0,i.kG)(1===p.length,37);var d=p[0];t=d.variableDefinitions||[];var f={name:d.name&&"Name"===d.name.kind?d.name.value:"data",type:n,variables:t};return o.set(e,f),f}},70042:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r,i=n(13736),o=n(32735),a=n.n(o),s=n(40841),u=n.n(s),c="c8ed087797",l="eeca70e56c",p="b02313f67f",d="a8e744689d",f=n(79399),h=n(6959),v=n(63934),m=n(13260),g=n(42015),b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostbookingQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pbQueryInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostbookingInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"propertyInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PropertyInfoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postBooking"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"importantInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"pbQueryInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImportantInfoResult"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"info"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"standardPhrases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sentenceId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phrase"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"showImportantInfo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showBookingHomeSpecialInfo"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostbookingError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"propertyInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"propertyInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyInfoResult"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"propertyInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyInfoNotFound"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:742,source:{body:"\n  query PostbookingQuery(\n    $pbQueryInput: PostbookingInput!\n    $propertyInput: PropertyInfoInput!\n  ) {\n    postBooking {\n      importantInfo(input: $pbQueryInput) {\n        ... on ImportantInfoResult {\n          info\n          standardPhrases {\n            sentenceId\n            phrase\n          }\n          showImportantInfo\n          showBookingHomeSpecialInfo\n        }\n        ... on PostbookingError {\n          errorCode\n          message\n        }\n      }\n      propertyInfo(input: $propertyInput) {\n        ... on PropertyInfoResult {\n          reservationId\n          propertyInfo {\n            name\n          }\n        }\n        ... on PropertyInfoNotFound {\n          errorCode\n          message\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},y=n(24327),k=n(27131),_=n(36687),O=n(48976),E=n(44393);var S,N=n(22219),I=n(23673),w=n(39476),P=n(24094),C=n(7022),D=n.n(C),T=n(6776),M="b67861d2e5",R="ba53abaca3",A="d09194c81f",Q="ef5f0049bf";!function(e){e.INFO_SIGN="infoSign",e.CHECKIN="checkin",e.SETTINGS="settings",e.BEACH_BUOY="beachBuoy"}(S||(S={}));var x=function(e){var t=e.iconName,n=e.title,r=e.content;return a().createElement("div",{className:M},a().createElement("div",{className:R,"data-testid":t},function(e){switch(e){case S.INFO_SIGN:return a().createElement(T.Cc$,null);case S.CHECKIN:return a().createElement(T.bLp,null);case S.SETTINGS:return a().createElement(T.ewm,null);case S.BEACH_BUOY:return a().createElement(T.wi8,null);default:return a().createElement(T.Cc$,null)}}(t)),a().createElement("div",{className:Q},a().createElement(D(),{variant:"featured_3"},n),a().createElement(D(),{variant:"small_1",className:A,attributes:{"data-testid":"content"}},r)))},V=n(32257),F=n.n(V),L="f9aca8ce24",G="ede35bcee4";var B,U=function(e){var t=e.title,n=e.content;return a().createElement(a().Fragment,null,a().createElement(D(),{variant:"headline_3",className:L},t),a().createElement("div",{className:G},n))},z=S.INFO_SIGN,q=(0,E.Z)(B||(B=(0,i.Z)(["IZbRdHUNWSYRKPKdOKVJdFMSHZNVaPdfdTC"])));function Z(e){var t=e.isMdot,n=e.isConfirmation,o=e.isManageBooking,s=function(){var e,t,n,o=(0,f.T)(),a=o.getBasePageUrl(),s=a.searchParams,u=s.get("auth_key")||"",c=s.get("bn")||"",l=s.get("pincode")||"",p="MDOT"===o.getSiteType();if((0,O.zm)((0,E.Z)(r||(r=(0,i.Z)(["IZbRdHUNWSYRKPKdOKVJdFMSHZNVaPdfdTC"]))))){var d=(0,k.K)();u=d.authkey,l=d.pinCode,c=d.bookingNumber}var h={authkey:u,bookingNumber:c,pinCode:l},v=(0,m.a)(b,{variables:{pbQueryInput:h,propertyInput:h}}),S=v.loading,N=v.error,I=v.data;if(u||c&&l){if(!S)if(N)(0,_.kd)("ImportantInfo",N);else if(null!==I&&void 0!==I&&null!==(e=I.postBooking)&&void 0!==e&&e.importantInfo){var w=I.postBooking.importantInfo,P=null===I||void 0===I||null===(t=I.postBooking)||void 0===t?void 0:t.propertyInfo,C=null===P||void 0===P||null===(n=P.propertyInfo)||void 0===n?void 0:n.name,D=w.info,T=w.showImportantInfo,M=w.standardPhrases,R=w.showBookingHomeSpecialInfo;if(!T||D||null!==M&&void 0!==M&&M.length){var A=p?"mybooking":"myreservations",Q="";return R&&(Q=(0,y.K)({pathname:"/".concat(A,".").concat(o.getLanguage(),".html"),searchParams:new URLSearchParams({auth_key:u,bn:c,pincode:l,pbsource:"doSpecialRequest",label:"from_conf_1"})}).toString()),{info:D,standardPhrases:M,showImportantInfo:T,showBookingHomeSpecialInfo:R,propertyName:C,url:Q}}(0,g.c1)("PBX-ImportantInfo: no ImportantInfo content but showImportantInfo is true \n auth_key-".concat(u,"\n"))}else(0,_.z_)("ImportantInfo",{data:null===I||void 0===I?void 0:I.postBooking})}else(0,g.bf)("Query DML with both auth_key and bookingNumber pinCode empty",{requestUrl:a.toString()})}(),S=(0,w.QT)();if(!s)return null;var N=s.info,C=s.standardPhrases,D=s.showImportantInfo,T=s.showBookingHomeSpecialInfo,M=s.propertyName,R=s.url;if(!D||!N&&!C)return null;var A=S.trans((0,P.t)("important_information_heading")),Q=N?a().createElement("div",{className:u()(p),dangerouslySetInnerHTML:{__html:N.replace(/\n/g,"<br />")}}):null,V=a().createElement(a().Fragment,null,null===C||void 0===C?void 0:C.map((function(e){var t=e.phrase,n=e.sentenceId,r=a().createElement("span",{dangerouslySetInnerHTML:{__html:t}});return T&&9===n?r=a().createElement(w.cC,{tag:"bhpb_info_prepay_will_contact",variables:{start_link:"<0>",end_link:"</0>"},components:[a().createElement("a",{href:R,target:"_blank",rel:"noreferrer",key:1})]}):T&&4===n&&(r=a().createElement(w.cC,{tag:"bhpb_important_info_let_host_know_arrival",variables:{property_name:"<0/>"},components:[a().createElement("strong",{key:2},M)]})),a().createElement("p",{key:n},r)}))),L=a().createElement("div",{className:u()(l)},Q,V);if(!t&&n)return a().createElement("div",{"data-testid":"important-info-conf-ddot"},a().createElement(I.v,{tag:q,customGoal:1}),a().createElement(U,{title:A,content:L}));if(t&&n){return a().createElement(a().Fragment,null,a().createElement(I.v,{tag:q,customGoal:1}),a().createElement(F(),{className:c,titleContent:A,attributes:{"data-testid":"important-info-conf-mdot"},onOpen:function(){h.Y.publish(v.l.M_IMPORTANT_INFO_OPEN_ACCORDION,{})}},L))}if(!t&&o){var G={iconName:z,title:A,content:L};return a().createElement("div",{"data-testid":"important-info-mb",className:d},a().createElement(I.v,{tag:q,customGoal:1}),a().createElement(x,G))}return null}function j(){var e=(0,f.T)(),t="MDOT"===e.getSiteType(),n=e.getBasePageUrl(),r=(0,N.bb)(n),i=r.isConfirmation,o=r.isManageBooking,s=!1;if(s=i&&(0,O.zm)(q)?(0,N.yy)():(0,N.EJ)(n),i&&(0,O.ti)(q,1),!s)return null;var u={isMdot:t,isConfirmation:i,isManageBooking:o};return(0,N.z)(t,n),a().createElement(Z,u)}},63934:function(e,t,n){"use strict";var r;n.d(t,{l:function(){return r}}),function(e){e.D_SELF_SERVICE_MESSAGE_PROPERTY="CAPLA_EVENT_post-booking-web-mfe_D_SELF_SERVICE_MESSAGE_PROPERTY",e.D_REASSURANCE_OPEN_EDIT_MODAL="CAPLA_EVENT_post-booking-web-mfe_D_REASSURANCE_OPEN_EDIT_MODAL",e.D_REASSURANCE_OPEN_GTA_MODAL="CAPLA_EVENT_post-booking-web-mfe_D_REASSURANCE_OPEN_GTA_MODAL",e.M_SELF_SERVICE_OPEN_ACCORDION="CAPLA_EVENT_post-booking-web-mfe_M_SELF_SERVICE_OPEN_ACCORDION",e.M_IMPORTANT_INFO_OPEN_ACCORDION="CAPLA_EVENT_post-booking-web-mfe_M_IMPORTANT_INFO_OPEN_ACCORDION"}(r||(r={}))},36687:function(e,t,n){"use strict";n.d(t,{Y5:function(){return m},_s:function(){return v},kd:function(){return d},uU:function(){return h},z_:function(){return f}});var r,i,o=n(13736),a=n(42015),s=n(79399),u=n(26662),c=n(66049),l=null===(r=(0,s.T)())||void 0===r?void 0:r.getSiteType(),p=(0,u.Z)((0,c.Z)(i||(i=(0,o.Z)(["IZbREBGVPQUPMcZdUWBLXTUSGGO"]))));function d(e,t){(0,a.bf)("PBX-".concat(e,": Apollo operation failed"),{apolloError:t})}function f(e,t){(0,a.bf)("PBX-".concat(e,": query response is PostBookingError"),t)}function h(e,t){if(p)throw new Error("PBX-[".concat(e,"][").concat(l,"]-emptyDom").concat(t?"-".concat(t):""))}function v(e,t){p&&(0,a.c1)("PBX-[".concat(e,"][").concat(l,"]-emptyDom").concat(t?"-".concat(t):""))}function m(e){return[1001,1002,1004,1005,1006,1007,1010].indexOf(e)<0}},27131:function(e,t,n){"use strict";n.d(t,{K:function(){return o},p:function(){return i}});var r=n(79399);function i(){var e=(0,r.T)().getBasePageUrl().searchParams;return{authkey:e.get("auth_key")||"",bookingNumber:e.get("bn")||"",pinCode:e.get("pincode")||"",orderUuid:e.get("orderUuid")||""}}function o(){var e=(0,r.T)(),t=e.getBasePageUrl(),n=e.getBody(),i=t.searchParams,o=i.get("source")||"",a=i.get("orderUuid")||"",c=i.get("auth_key")||"",l=i.get("bn")||"",p=i.get("pincode")||"";return{authkey:c=u(c),bookingNumber:l=s("bn",l,o,n),pinCode:p=s("pincode",p,o,n),id:l?"22-".concat(l):"",orderUuid:a}}var a=["confirmation_error_validation"];function s(e,t,n,r){var i="";return r&&a.indexOf(n)>-1&&(i=u(String(r[e]))),i||u(t)}function u(e){return"null"===e||"undefined"===e?"":e}},22219:function(e,t,n){"use strict";n.d(t,{EJ:function(){return p},Q6:function(){return m},ZE:function(){return h},bb:function(){return f},gz:function(){return g},yy:function(){return d},z:function(){return v}});var r=n(98178),i=n(42015),o=n(24327),a=n(79399),s=n(27131),u=/^\/mybooking\.([\w-]+\.)?html/,c=/^\/myreservations\.([\w-]+\.)?html/,l=/^\/confirmation\.([\w-]+\.)?html/;function p(e){var t=e.searchParams;return!!(t.has("auth_key")&&"null"!==t.get("auth_key")&&"undefined"!==t.get("auth_key")||t.has("bn")&&t.has("pincode"))}function d(){var e=(0,s.K)(),t=e.authkey,n=e.bookingNumber,r=e.pinCode;return!!(t||n&&r)}function f(e){var t=e.pathname;return{isConfirmation:l.test(t),isManageBooking:u.test(t)||c.test(t)}}function h(e,t){var n=e.searchParams;return!(t===r.N.MDOT&&(!n.has("tmpl")||"mybooking_lightbox_content"!==n.get("tmpl")))&&p(e)}function v(e,t){var n=f(t).isConfirmation?"Confirmation":"ManageBooking",o=t.searchParams.get("source")||"unknown",a=e?r.N.MDOT:"".concat(r.N.WWW,"+").concat(r.N.TDOT);(0,i.WM)("".concat(a," ").concat(n," ").concat("page source from:"," ").concat(o)),(0,i.WM)("".concat(a," ").concat(n," ").concat("page total request:"))}var m=function(e,t){var n=(0,a.T)(),r=e?"mybooking":"myreservations";return(0,o.K)({pathname:"/".concat(r,".").concat(n.getLanguage(),".html"),searchParams:t}).toString()},g=function(e){var t=(0,a.T)();return(0,o.K)({pathname:"/".concat("assistant",".").concat(t.getLanguage(),".html"),searchParams:e}).toString()}},23673:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(32735),i=n.n(r),o=n(99666),a=n(48976);function s(e){var t=e.experimentTag,n=e.tag,s=e.stage,u=e.customGoal,c=e.goalName,l=e.value,p=(0,o.YD)({threshold:0,triggerOnce:!0}),d=p[0],f=p[1],h=n||t;return(0,r.useEffect)((function(){if(f){if(h){if(s)return void(0,a.ti)(h,s);if(u)return void(0,a.pj)(h,u)}else if(c)return l?void(0,a.uf)(c,l):void(0,a.r9)(c);0}}),[f]),i().createElement("div",{ref:d})}},44393:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=function(e){this.tag=e};function i(e){var t;return t=Array.isArray(e)?e[0]:"object"===typeof e&&Array.isArray(e.raw)?e.raw[0]:e,new r(t)}},48976:function(e,t,n){"use strict";n.d(t,{pj:function(){return l},zm:function(){return u},ti:function(){return c},r9:function(){return p},uf:function(){return d}});var r,i=n(55562),o=n(93172),a=n(89070),s=new(function(){function e(){}var t=e.prototype;return t.trackExperiment=function(e){return(0,a.J)(e.tag),window.__caplaChunkMetadataStore.getExperimentVariant(e.tag)},t.trackExperimentStage=function(e,t){return(0,a.J)(e.tag+"|"+t),o.Z.stage(e.tag,t)},t.trackCustomGoal=function(e,t){return o.Z.customGoal(e.tag,t)},t.trackGoal=function(e){return o.Z.goal(e)},t.trackGoalWithValue=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var s;return(s=o.Z).goalWithValue.apply(s,[e,t].concat(i.Z(r)))},t.reportContextstatus=function(){},e}());function u(e){return f("trackExperiment")(e)}function c(e,t){return f("trackExperimentStage")(e,t)}function l(e,t){return f("trackCustomGoal")(e,t)}function p(e){return f("trackGoal")(e)}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return f("trackGoalWithValue").apply(this,[e,t].concat(i.Z(r)))}function f(e){return s[e]}!function(e){e.trackExperiment="trackExperiment",e.trackExperimentStage="trackExperimentStage",e.trackGoal="trackGoal",e.trackGoalWithValue="trackGoalWithValue",e.trackCustomGoal="trackCustomGoal"}(r||(r={}))},6959:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(12958),i=n.n(r)()},24327:function(e,t,n){"use strict";n.d(t,{K:function(){return g}});var r,i,o=n(79399),a=((r={DEFAULT:["label","sid","utm_source","utm_medium","utm_term","utm_content","utm_campaign","gclid"]})[n(98178).N.EXTRANET]=["hotel_id","lang","ses"],r);!function(e){e.app="app",e.book="book"}(i||(i={}));var s={app:"www",book:"secure"},u={app:"w",book:"b"},c={app:"app",book:"book"},l={app:"app",book:"book"},p="booking.com",d=new RegExp("^(.*?)\\.?(booking.com|booking.cn)$"),f=/^(?:w|b)(\d+)$/,h=/^(\w+)\-(app|book|devapp|devbook).*?\.dev$/,v=/^(?:app|book)\.dqs$/;function m(e,t){var n=new Set;null==t||t.forEach((function(t,r){n.has(r)?e.append(r,t):(e.set(r,t),n.add(r))}))}function g(e){return function(){var e=(0,o.T)(),t=e.getBasePageUrl();if(!t)throw new Error("Cannot construct URLs without base page URL, most likely it is an integration error. Please report this issue to #capla channel in Slack.");var n=function(e,t,n,r){var i=new URLSearchParams,o=t&&a.hasOwnProperty(t)?t:"DEFAULT";return a[o].forEach((function(t){var n=e.searchParams.get(t);n&&i.set(t,n)})),"number"===typeof(null==n?void 0:n.id)&&i.set("aid",n.id.toString()),r&&e.searchParams.forEach((function(e,t){var n;(0===(n=t).indexOf("exp_")||0===n.indexOf("b_feature_running_")||"exp_all"===n||"hotel_account_id"===n)&&i.set(t,e)})),i}(t,e.getSiteType(),e.getAffiliate(),e.isInternalIp());return function(r){var i=new URL(""+t.origin+t.pathname),o=r.host?function(e,t){var n=e.host.match(d);if(!n)return e;var r=n[1],i=n[2];return""===r||r===s.app||r===s.book?e.host=s[t]+"."+i:h.test(r)?e.host=r.replace(h,"$1-"+c[t]+".dev."+p):v.test(r)?e.host=l[t]+".dqs."+p:f.test(r)&&(e.host=r.replace(f,u[t]+"$1."+p)),e}(i,r.host):i;return r.pathname&&(o.pathname=r.pathname),o.hash=r.hash||"",e.isRobotRequest()||(m(o.searchParams,n),m(o.searchParams,r.searchParams)),o}}()(e)}},40841:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},99666:function(e,t,n){"use strict";n.d(t,{YD:function(){return g}});var r=n(32735),i=n(56720);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=new Map,c=new Map,l=new Map,p=0;function d(e,t,n){void 0===n&&(n={}),n.threshold||(n.threshold=0);var r=n,o=r.root,a=r.rootMargin,s=r.threshold;if(u.has(e)&&(0,i.Z)(!1),e){var d=function(e){return e?l.has(e)?l.get(e):(p+=1,l.set(e,p.toString()),l.get(e)+"_"):""}(o)+(a?s.toString()+"_"+a:s.toString()),f=c.get(d);f||(f=new IntersectionObserver(h,n),d&&c.set(d,f));var v={callback:t,element:e,inView:!1,observerId:d,observer:f,thresholds:f.thresholds||(Array.isArray(s)?s:[s])};return u.set(e,v),f.observe(e),v}}function f(e){if(e){var t=u.get(e);if(t){var n=t.observerId,r=t.observer,i=r.root;r.unobserve(e);var o=!1,a=!1;n&&u.forEach((function(t,r){r!==e&&(t.observerId===n&&(o=!0,a=!0),t.observer.root===i&&(a=!0))})),!a&&i&&l.delete(i),r&&!o&&r.disconnect(),u.delete(e)}}}function h(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio,r=e.target,i=u.get(r);if(i&&n>=0){var o=i.thresholds.some((function(e){return i.inView?n>e:n>=e}));void 0!==t&&(o=o&&t),i.inView=o,i.callback(o,e)}}))}var v=function(e){var t,n;function u(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o(s(t=e.call.apply(e,[this].concat(r))||this),"state",{inView:!1,entry:void 0}),o(s(t),"node",null),o(s(t),"handleNode",(function(e){t.node&&(f(t.node),e||t.props.triggerOnce||t.setState({inView:!1,entry:void 0})),t.node=e||null,t.observeNode()})),o(s(t),"handleChange",(function(e,n){(e!==t.state.inView||e)&&t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)})),t}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=u.prototype;return c.componentDidMount=function(){this.node||(0,i.Z)(!1)},c.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(f(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(f(this.node),this.node=null)},c.componentWillUnmount=function(){this.node&&(f(this.node),this.node=null)},c.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin;d(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r})}},c.render=function(){var e=this.state,t=e.inView,n=e.entry;if(!function(e){return"function"!==typeof e.children}(this.props))return this.props.children({inView:t,entry:n,ref:this.handleNode});var i=this.props,o=i.children,s=i.as,u=i.tag,c=(i.triggerOnce,i.threshold,i.root,i.rootMargin,i.onChange,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return(0,r.createElement)(s||u||"div",a({ref:this.handleNode},c),o)},u}(r.Component);o(v,"displayName","InView"),o(v,"defaultProps",{threshold:0,triggerOnce:!1});var m={inView:!1,entry:void 0};function g(e){void 0===e&&(e={});var t=(0,r.useRef)(),n=(0,r.useState)(m),i=n[0],o=n[1],a=(0,r.useCallback)((function(n){t.current&&f(t.current),n&&d(n,(function(t,r){o({inView:t,entry:r}),t&&e.triggerOnce&&f(n)}),e),t.current=n}),[e.threshold,e.root,e.rootMargin,e.triggerOnce]);return(0,r.useEffect)((function(){t.current||i===m||e.triggerOnce||o(m)})),[a,i.inView,i.entry]}},13736:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=https://s3-main-01.booking.com/internal-static/capla/static/js/544.b7029535.chunk.js.map